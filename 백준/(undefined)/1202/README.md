# 1202번 "보석 도둑" 풀이 및 후기

| 바로가기  | <https://www.acmicpc.net/problem/1202> |
|-------|----------------------------------------|
| 레이팅   | g2                                     |
| 푼 날짜  | 2023-08-15                             |
| 걸린 시간 | 25m                                    |

## 후기

간만에 정말 재밌게 풀었습니다.
25분간 알고 있는 테크닉과 두뇌 리소스를 총동원해서...

## 풀이

N = 300000 K = 300000 이어서 시간이 매우 엄격합니다.

결론은 정렬 + 우선순위 큐 + 그리디입니다.

보석을 무게 기준으로 오름차순 정렬합니다.
가방도 무게 기준으로 오름차순 정렬합니다.
여기까지가 O(N log N + K log K)입니다.

우선 보석과 가방 중 가장 가벼운 것들을 꺼내둡니다.
그 뒤로 다음을 반복합니다.

- 현재 보석이 현재 가방보다 가볍다면, 후보 보석 PQ에 넣습니다. 다음 보석을 꺼냅니다.
- 현재 보석이 현재 가방보다 무겁다면, 후보 보석 PQ에서 최대 가치 보석을 poll하고 "훔칩니다".
  후보 보석이 없다면 가방은 버려집니다.
  그리고 다음 가방을 꺼냅니다.

**남은 가방 중 가장 가벼운 가방에 대해, 거기에 넣을 수 있는 보석 중 가장 가치가 높은 것을 넣어 훔치는 것이 항상 최선의 선택입니다.**
이 greedy를 시간 제한을 지키며 구현한 것이 위의 알고리즘입니다.

더 체크할 보석이 없다면 남은 가방이랑 남은 후보 보석 PQ를 처리하면 됩니다.
더 체크할 가방이 없다면 알고리즘을 멈추면 됩니다.

그리디 부분 최악의 경우는 모든 보석이 어떤 가방보다도 가벼울 때입니다.
보석을 먼저 30만번 PQ에 insert하고, 그 다음 30만번 poll해야 합니다.
이때는 O(N log N + K) 입니다.

따라서 최종 O(N log N + K log K) 입니다.

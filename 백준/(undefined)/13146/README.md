# 13146번 "같은 수로 만들기 2" 풀이 및 후기

| 바로가기  | <https://www.acmicpc.net/problem/13146> |
|-------|-----------------------------------------|
| 레이팅   | p5                                      |
| 푼 날짜  | 2023-08-06                              |
| 걸린 시간 | 5m                                      |

## 풀이

감소하는 모노토닉 스택입니다.

새 원소가 스택 피크보다 클 경우, 스택 피크가 Add 수행해야 하는 것중 가장 작은 값이므로, 결과 += (새 원소) - (스택 피크) 를 적용합니다.
첫 번째 피크 다음 피크가 이를 만족시킬 경우 pop해서 버리면 됩니다.
스택이 비거나 스택 피크가 더 큰 값일 때까지 무한 반복합니다.
이렇게 하면 스택에 있는 값은, 그 값의 왼쪽 부분을 모두 그 값과 같아질 때까지 Add로 평준화한 걸 의미하게 됩니다.

![monotonic stack](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRPU8nKe-pqNehIREq_gS8_QzM6lwjNWEBa-g&usqp=CAU)

위 그림을 예시로 보면, 4까지 체크된 스택에는 {5, 4}만 있습니다.
{5, 3, 2, 1}이었다가, 4가 들어와서 5, 4만 남은 상태입니다.
스택 피크인 4는 5의 다음 값인 3부터 자기 자신까지를 모두 4로 평준화했다는 의미입니다.
이때 평준화에 든 Add 연산 횟수는 4 - 1 = 3번 입니다.

마지막으로 입력 값중 max 값을 푸시해서 스택을 비우면 끗.

# 10000번 "원 영역" 풀이 및 후기

| 바로가기  | <https://www.acmicpc.net/problem/10000> |
|-------|-----------------------------------------|
| 레이팅   | p4                                      |
| 푼 날짜  | 2023-08-06                              |
| 걸린 시간 | 1h                                      |

## 후기

문제 의미 파악에 시간이 약간 걸렸습니다.
"영역이 대체 뭐야?"

## 풀이

스택을 이용한 로직 구현 문제입니다.

영역에 대해 짚어봅시다.
기본적으로 원 1개당 영역 1개를 만듭니다.
제일 바깥에 아무것도 없는 허공이 영역 1개를 차지합니다.
내부의 원이 연속으로 붙어있어서 바깥 원이 양분되는 경우, 바깥 원은 1개의 영역을 더 형성합니다 (위, 아래 총 2개).
문제 그림에는 가장 큰 원이 그렇게 양분되어 있습니다.
따라서 원 4개 + 허공 1개 + 이등분 1개 = 6개가 나옵니다.
이때 원 하나는 1개의 영역만 갖거나, 2개의 영역으로 양분되거나 둘 중 하나입니다.

일단 원은 중심과 반지름 대신, 시작점과 끝점으로 변환합니다.
그 다음 시작점 오름차순 -> 끝점 내림차순으로 정렬합니다.

결과의 기본값은 N + 1로 세팅해두면, 우리가 할 일은 이등분되는 원을 찾는 것입니다.
여기에 스택을 활용할 수 있습니다.
스택에는 원의 시작점, 끝점 쌍을 저장하되, 저장 규칙은 다음과 같습니다.

- 새 원이 스택 피크의 원 바깥(오른쪽)에 있는 경우 pop -> 반복합니다.
- 스택이 비었거나 새 원이 스택 피크의 원에 포함된 경우 push합니다.

양분 여부를 판별하려면 내부 원의 연속적인 맞닿음을 정의해야 합니다.
원의 연속은 귀납적으로 정의할 수 있습니다.

1. base: 더 큰 원의 시작점과 새 원의 시작점이 같은 경우
2. 직전 원이 연속이고, 새 원의 시작점이 직전 원의 끝점과 같은 경우

아까 정렬에 의해 시작점이 같다면 더 큰 원을 먼저 순회하므로, 1은 스택 피크의 시작점과 새 시작점이 같은 경우 만족한다.
참고로 이때 상기한 스택 pop & push 루프는 돌지 않는다.

따라서 스택에 각 원의 연속 여부를 같이 저장.
만약 pop한 원이 연속이고 새 원과 붙어있는 경우 새 원도 연속임.
이때 새 원의 끝점이 스택 피크의 끝점과 같은 경우, 스택 피크의 원을 양분하므로 ++결과.

pop은 여러 번 발생할 수 있는데, 그떄마다 연속 여부 체크해서 최종값만 스택에 넣으면 된다.
pop이 여러 번 실행한다는 건 스택 피크가 스택의 더 큰 원 안에 포함된다는 것이고, 가장 마지막에 pop되는 원소가 그 원들 중에서는 가장 큰 원이며, 새 원이 그 원과 맞닿았는지만 중요하다.
내부 자잘한 원이 불연속인지는 중요하지 않고 중간 크기의 원들 끼리만 연속이면 결국 이등분된다.

어차피 카운트 체크는 push할 때마다 하므로, 다 끝나고 스택을 비울 필요는 없음.

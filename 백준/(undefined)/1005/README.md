# 1005번 "ACM Craft" 풀이 및 후기

| 바로가기  | <https://www.acmicpc.net/problem/1005> |
|-------|----------------------------------------|
| 레이팅   | g3                                     |
| 푼 날짜  | 2023-08-12                             |
| 걸린 시간 | 1h 15m                                 |

## 후기

첨엔 BFS인줄 알았는데...

## 풀이

BFS로 최댓값을 갱신하면 재탐색하게 짰더니 시간 저격 케이스가 있었습니다.
그래서 고민하면서 풀고보니 DP 이용한 위상정렬 탐색이었습니다.

Directed acyclic graph에서 특정 노드부터 역방향으로 DP 스타일로 탐색하면, 자연스럽게 시작 노드들까지 갔다가 다시 돌아오는 구조가 됩니다.
이때 돌아오는 과정이 위상정렬과 같아집니다.

이 문제는 w 노드부터 역방향으로 DP 탐색해 위상정렬해서 풀 수 있습니다.

`현재 노드의 건설 시간 + max{현재 노드로 향하는 간선들의 역방향 노드들을 재귀}`
이렇게 하면 현재 노드의 최댓값이 나옵니다.
이때 노드의 최댓값을 구했으면 캐싱해서 재사용합니다.

기저 사례는 현재 노드로 향하는 간선이 더 없는 경우입니다.
위상정렬의 시작 노드들에 해당됩니다.
이 경우 그냥 자기 자신의 건설시간이 최댓값이 됩니다.

이렇게 풀면 무조건 O(|V| + |E|) 시간복잡도가 특징입니다.

어쨌든 이 문제의 핵심은 위상정렬입니다.
재귀 DP가 가장 편하게 구현되지만, 다른 풀이가 있을수도 있습니다.

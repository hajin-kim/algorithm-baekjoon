# 9328번 "열쇠" 풀이 및 후기

| 바로가기  | <https://www.acmicpc.net/problem/9328> |
|-------|----------------------------------------|
| 레이팅   | g1                                     |
| 푼 날짜  | 2023-08-28                             |
| 걸린 시간 | 1h 20m                                 |

## 후기

복잡하게 풀다가 시간을 낭비했습니다.
정확히는 각 영역들을 그래프로 가공한 다음, 그걸 탐색하는 걸 생각했었습니다.
결국 코드가 120줄 넘어갈 즈음 더 괜찮은 방법을 생각해보고 다 지운 다음 다시 짰습니다.

근데 다시 짜는 건 10분밖에 안 걸렸습니다.
결과 코드 자체도 골1치고 쉬웠다는 느낌이 크더군요.

심플 이즈 베스트...

## 풀이

BFS 활용 및 피지컬 문제입니다.

열쇠가 없어서 개방하지 못한 문들에 대해, key를 문의 열쇠로, value를 문의 좌표 목록으로 하는 해시맵 `unopenedDoors`를 만듭니다.
발견한 열쇠 해시셋 `foundKeys`에 시작 열쇠 목록을 추가합니다.

열쇠 가짓수가 알파벳 26가지밖에 안 되므로 굳이 해시맵, 해시셋은 안 써도 되긴 합니다.
오히려 배열을 쓰는 편이 더 빠를 수도 있습니다.
뭐 일단 짰으니 넘어가죠.

가장자리 점들은 모두 탐색 대상이므로, 일단 큐에 넣고 시작합니다.
큐에 있는 점들에 대해 다음의 경우가 가능합니다.

- 이미 방문했거나, 범위 밖이거나, 벽 -> **continue**
- 문서 -> ++결과
- 열쇠 -> `foundKeys`에 추가합니다. 해당 열쇠로 열 수 있는 모든 문을 큐에 추가합니다.
- 문 -> 열쇠가 없다면 `unopenedDoors`에 추가하고 **continue**

체크 끝나면 인접점을 큐에 추가합니다.
큐가 빌 때까지 반복하면 됩니다.

시간복잡도는 O(C \* h \* w)입니다.
즉, 넉넉한 편입니다.

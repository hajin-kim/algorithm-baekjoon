# 14865번 "곡선 자르기" 풀이 및 후기

| 바로가기  | <https://www.acmicpc.net/problem/14865> |
|-------|-----------------------------------------|
| 레이팅   | p5                                      |
| 푼 날짜  | 2023-08-05                              |
| 걸린 시간 | 1h                                      |

## 풀이

구현 + 정렬 + 스택입니다.

오로지 x축과 수직인 선분들만 고려하면 되고, 연결 선분들이 얼마나 지그재그에 개판이든 신경쓰지 않아도 됩니다.
이때 한 수직 선분과 연결된(바로 다음으로 나오는) 수직 선분 쌍으로 만들어진 구간들을 정리해서 리스트로 취합합니다.

구간들을 구했으면 시작지점 순서로 정렬합니다.
하나씩 순회하며, 스택에 구간을 작아지는(마트료시카의 바깥에서 시작하는 것처럼) 순서로 푸시합니다.
마트료시카 안에 안 들어가는 구간이 오면 스택 구간을 pop합니다.

첫 구간은 그냥 스택에 푸시합니다.

새 구간을 체크할 때 스택 피크 구간이 새 구간을 포함하지 않는다면 (peek.end < new.start) 스택에서 pop합니다.
-> 스택이 비거나 스택 피크가 새 구간을 포함한다면 중지합니다.

이때 pop while문에 대해:

- 최초로 pop한 경우, 그 pop한 구간은 스택 내 구간 중 가장 최심부의 극소 구간입니다. 따라서 다른 구간을 감쌀 수 없으므로, 다른 봉우리를 포함하지 않는 봉우리 개수를 1개 추가합니다.
- 스택이 비워진 경우, 그 pop한 구간은 스택 내 구간 중 가장 최외각의 극대 구간입니다. 따라서 다른 봉우리에 의해 포함되지 않는 봉우리 개수를 1개 추가합니다.

다 끝났으면 가짜 값으로 스택 비우면서 위 로직을 한 번 돌립니다.
